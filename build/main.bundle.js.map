{"version":3,"sources":["webpack:///webpack/bootstrap a658a7a1f1f913f2d716","webpack:///./js/song-info.js","webpack:///./js/main.js","webpack:///./js/file-helpers.js","webpack:///./js/playlist-manager.js","webpack:///./js/beeper.js","webpack:///./js/note-converter.js","webpack:///./js/buffer-loader.js","webpack:///./vendor/kali.min.js","webpack:///./js/song-player.js","webpack:///./js/song-file.js","webpack:///./js/song-library.js","webpack:///./js/tab-control.js","webpack:///./js/voice-command-listener.js","webpack:///./js/command-parser.js","webpack:///./vendor/jtmpl-1.1.0.min.js"],"names":["SongInfo","bpm","beatsPerBar","playbackSpeed","song","playbackSpeedPercent","checkCompatibility","init","enableMicButton","document","getElementById","loadDemoSongButton","filesInput","filesDropArea","body","noSongsContainer","someSongsContainer","sampleVoiceCommandSongName","getElementsByClassName","jumpToBarNumberInput","jumpToBarButton","recognisedNumberDisplayElement","importSongLibraryInput","exportSongLibraryButton","tabControl","openTab","context","window","AudioContext","webkitAudioContext","songLibrary","playlistManager","jtmplModel","playlist","jtmpl","jtmplSongs","on","prop","updateSongInfos","anySongsLoaded","addLoadedSong","songFile","info","getSongInfoByName","fileName","songModel","name","escapedName","replace","addSong","fileData","push","trigger","classList","add","remove","Array","from","forEach","el","innerText","loadFileByUrl","url","loadByUrl","then","file","split","contents","onclick","loadFiles","files","f","readArrayBufferFromFile","onchange","evt","target","ondragover","dataTransfer","dropEffect","ondragleave","ondrop","barkeep_play","playSongByName","songName","e","alert","jumpToBar","Number","parseInt","value","voiceCommandListener","onBarCommand","barNumber","innerHTML","setTimeout","onPlayCommand","onStopCommand","stop","startListening","readTextFromFile","import","json","export","downloadFile","FileHelpers","Promise","resolve","reject","request","XMLHttpRequest","open","responseType","onload","urlParts","fileNamePart","length","response","onerror","status","statusText","send","reader","FileReader","result","readAsArrayBuffer","readAsText","link","createElement","download","href","URL","createObjectURL","Blob","click","PlaylistManager","beeper","fileDataMap","Map","bufferMap","set","input","trim","has","toLowerCase","keys","key","indexOf","overridePlaybackSpeed","_getSongNameFromInput","console","log","songInfo","bufferKey","buffer","get","_playBuffer","noteNumber","beep","note","loadBuffer","p","currentSongPlayer","doubleBeep","play","songPlayer","Beeper","options","defaults","startSecondsFromNow","durationSeconds","Object","assign","gainNode","createGain","gain","connect","destination","oscillator","createOscillator","frequency","getFrequencyFromNote","startWhen","currentTime","start","NoteConverter","Math","pow","round","BufferLoader","progressIntervalCount","progressCallback","undefined","decodeAudioData","stretchedBuffer","_stretch","error","numChannels","bestQuality","stretchSampleSize","inputBufferSize","getChannelData","outputBufferSize","floor","outputAudioBuffer","createBuffer","sampleRate","progressCounter","progressIntervalSize","channel","inputData","kali","Kali","setup","outputData","Float32Array","inputOffset","completedOffset","flushed","framesCompleted","output","subarray","min","dataToInput","process","flush","t","i","r","exports","n","id","loaded","call","m","c","s","is_initialized","sample_rate","channels","quick_search","factor","search","segment","overlap","process_size","samples_in","samples_out","segments_total","skip_total","o","input_fifo","output_fifo","prototype","difference","tempo_best_overlap_position","overlap_buf","a","u","tempo_overlap","occupancy","read_ptr","write_ptr","write","read","max","segments_ms","segments_pow","searches_div","overlaps_div","h","l","ceil","reserve","setTempo","begin","end","typedArrayConstructor","clear","SongPlayer","bufferRate","secondsPerBar","source","createBufferSource","startTime","getStartTimeInSeconds","currentSource","startTimeInSeconds","SongFile","SongLibrary","songInfos","retrieveFromStorage","songs","fromObject","persistToStorage","JSON","stringify","localStorage","setItem","jsonFromStorage","getItem","parse","songsToImport","TabControl","tabLinks","tabPanes","tabLink","_getTargetTabId","targetTabId","toggleActive","tabId","tabContents","getAttribute","substring","VoiceCommandListener","SpeechRecognition","webkitSpeechRecognition","isLocalhost","location","host","startsWith","isChrome","test","navigator","userAgent","vendor","protocol","commandParser","addCommand","w","recognition","lang","interimResults","maxAlternatives","onaudioend","onresult","results","ev","transcript","CommandParser","commands","command","action","regex","_getRegex","types","_getTypes","statement","match","args","type","valueAsNumber","isNaN","isFinite","indexedTypes","indexType","index","entries","sort","b","map","module","global","self","define","require","Error","d","getOwnPropertyNames","hasOwnProperty","arguments","N","splice","C","isArray","len","x","S","O","parent","_dependentProps","_dependentContexts","j","root","g","v","y","_","apply","values","off","toJSON","fromJSON","pop","reverse","shift","unshift","change","update","insert","rule","_get","addEventListener","nodeName","selects","parentNode","selectsUpdating","selectOptions","selected","selectOptionsContexts","radioGroupsUpdating","radioGroups","checked","setAttribute","removeAttribute","utemplate","_dereq_","createTextNode","appendChild","data","createDocumentFragment","removeChild","previousSibling","childNodes","insertBefore","createComment","loader","node","block","fragment","model","template","anchor","anchorIndex","pos","chunkSize","size","arr","eval","count","del","val","render","func","child","childModel","__jtmpl__","nodeType","cloneNode","toString","attributes","slice","querySelector","RE_NODE_ID","replaceChild","compile","querySelectorAll","RE_ENDS_WITH_NODE_ID","plugins","freak","src","mixin","lastIndexOf","applyPlugins","plugin","evalObject","loadModel","DOMParser","parseFromString","loadTemplate","style","display","contentDocument","writeln","routes","matches","Element","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","join","reduce","encodeURIComponent","responseText","onreadystatechange","readyState","async","user","password"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a658a7a1f1f913f2d716","export default class SongInfo {\r\n    constructor(bpm, beatsPerBar, playbackSpeed) {\r\n        this.bpm = bpm;\r\n        this.beatsPerBar = beatsPerBar || 4;\r\n        this.playbackSpeed = playbackSpeed || 1.0;\r\n    }\r\n\r\n    static fromObject(song) {\r\n        return new SongInfo(song.bpm, song.beatsPerBar, song.playbackSpeedPercent / 100);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/song-info.js","import FileHelpers from './file-helpers';\r\nimport PlaylistManager from './playlist-manager';\r\nimport SongFile from './song-file';\r\nimport SongInfo from './song-info';\r\nimport SongLibrary from './song-library';\r\nimport TabControl from './tab-control';\r\nimport VoiceCommandListener from './voice-command-listener';\r\nimport '../vendor/jtmpl-1.1.0.min.js'; /* global jtmpl */\r\n\r\nif (VoiceCommandListener.checkCompatibility()) {\r\n    init();\r\n}\r\n\r\nfunction init() {\r\n    const enableMicButton = document.getElementById('enableMicButton');\r\n    const loadDemoSongButton = document.getElementById('loadDemoSongButton');\r\n    const filesInput = document.getElementById('files');\r\n    const filesDropArea = document.body;\r\n\r\n    const noSongsContainer = document.getElementById('noSongsContainer');\r\n    const someSongsContainer = document.getElementById('someSongsContainer');\r\n    const sampleVoiceCommandSongName = document.getElementsByClassName('sampleVoiceCommandSongName');\r\n    const jumpToBarNumberInput = document.getElementById('jumpToBarNumber');\r\n    const jumpToBarButton = document.getElementById('jumpToBarButton');\r\n    const recognisedNumberDisplayElement = document.getElementById('recognisedNumberDisplay');\r\n\r\n    const importSongLibraryInput = document.getElementById('importSongLibraryInput');\r\n    const exportSongLibraryButton = document.getElementById('exportSongLibraryButton');\r\n\r\n    const tabControl = new TabControl(document);\r\n    tabControl.openTab('loadSongs');\r\n\r\n    const context = new (window.AudioContext || window.webkitAudioContext)();\r\n    \r\n    const songLibrary = new SongLibrary();\r\n    const playlistManager = new PlaylistManager(context, songLibrary);\r\n    const jtmplModel = { playlist: [] };\r\n    jtmpl('#songsContainer', '#songTemplate', jtmplModel);\r\n\r\n    const jtmplSongs = jtmpl('#songsContainer');\r\n    jtmplSongs.on('update', (prop) => {\r\n        if (prop === 'playlist') {\r\n            songLibrary.updateSongInfos(jtmplModel.playlist);\r\n        }\r\n    });\r\n\r\n    let anySongsLoaded = false;\r\n    const addLoadedSong = (songFile) => {\r\n        const info = songLibrary.getSongInfoByName(songFile.fileName) || new SongInfo();\r\n        const songModel = {\r\n            name: songFile.fileName,\r\n            bpm: info.bpm,\r\n            beatsPerBar: info.beatsPerBar,\r\n            playbackSpeedPercent: info.playbackSpeed * 100,\r\n            escapedName: function () { return this('name').replace('\\'', '\\\\\\''); }\r\n        };\r\n\r\n        playlistManager.addSong(songFile.fileName, songFile.fileData);\r\n        jtmplModel.playlist.push(songModel);\r\n        jtmpl('#songsContainer').trigger('change', 'playlist');\r\n\r\n        if (!anySongsLoaded) {\r\n            noSongsContainer.classList.add('hidden');\r\n            someSongsContainer.classList.remove('hidden');\r\n            Array.from(sampleVoiceCommandSongName).forEach(el => el.innerText = songModel.name);\r\n            tabControl.openTab('playlist');\r\n            anySongsLoaded = true;\r\n        }\r\n    };\r\n\r\n    const loadFileByUrl = (url) => {\r\n        FileHelpers.loadByUrl(url)\r\n            .then(file => {\r\n                const songFile = new SongFile(file.name.split('.')[0], file.contents);\r\n                addLoadedSong(songFile);\r\n            });\r\n    };\r\n    loadDemoSongButton.onclick = () => {\r\n        if (!songLibrary.getSongInfoByName('not just jazz')) {\r\n            songLibrary.updateSongInfos([{ name: 'not just jazz', bpm: 102 }]);\r\n        }\r\n        loadFileByUrl('audio/not just jazz.mp3');\r\n    };\r\n\r\n    const loadFiles = (files) => {\r\n        for (const f of files) {\r\n            FileHelpers.readArrayBufferFromFile(f)\r\n                .then(file => {\r\n                    const songFile = new SongFile(file.name.split('.')[0], file.contents);\r\n                    addLoadedSong(songFile);\r\n                });\r\n        }\r\n    };\r\n    filesInput.onchange = (evt) => {\r\n        loadFiles(evt.target.files);\r\n    };\r\n\r\n    filesDropArea.ondragover = (evt) => {\r\n        evt.dataTransfer.dropEffect = 'copy';\r\n        filesDropArea.classList.add('droppable');\r\n        return false;\r\n    };\r\n    filesDropArea.ondragleave = () => {\r\n        filesDropArea.classList.remove('droppable');\r\n    };\r\n    filesDropArea.ondrop = (evt) => {\r\n        filesDropArea.classList.remove('droppable');\r\n        loadFiles(evt.dataTransfer.files);\r\n        return false;\r\n    };\r\n\r\n    // wire up manual controls\r\n    window.barkeep_play = songName => {\r\n        try {\r\n            playlistManager.playSongByName(songName);\r\n        }\r\n        catch (e) {\r\n            alert(e);\r\n        }\r\n    };\r\n    jumpToBarButton.onclick = () => {\r\n        playlistManager.jumpToBar(Number.parseInt(jumpToBarNumberInput.value));\r\n    };\r\n\r\n    enableMicButton.onclick = () => {\r\n        const voiceCommandListener = new VoiceCommandListener();\r\n        voiceCommandListener.onBarCommand = (barNumber) => {\r\n            recognisedNumberDisplayElement.innerHTML = barNumber;\r\n            recognisedNumberDisplayElement.classList.add('highlight');\r\n            setTimeout(() => { recognisedNumberDisplayElement.classList.remove('highlight'); }, 1000);\r\n            playlistManager.jumpToBar(barNumber);\r\n        };\r\n        voiceCommandListener.onPlayCommand = (songName, playbackSpeedPercent) => {\r\n            try {\r\n                return playlistManager.playSongByName(songName, playbackSpeedPercent / 100);\r\n            }\r\n            catch (e) {\r\n                alert(e);\r\n            }\r\n        };\r\n        voiceCommandListener.onStopCommand = () => {\r\n            playlistManager.stop();\r\n        };\r\n\r\n        voiceCommandListener.startListening();\r\n    };\r\n\r\n    importSongLibraryInput.onchange = (evt) => {\r\n        FileHelpers.readTextFromFile(evt.target.files[0])\r\n            .then(file => {\r\n                songLibrary.import(file.contents);\r\n                alert('imported!');\r\n            });\r\n    };\r\n    exportSongLibraryButton.onclick = () => {\r\n        const json = songLibrary.export();\r\n        FileHelpers.downloadFile('barkeep.json', json);\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","export default class FileHelpers {\r\n\r\n    static loadByUrl(url) {\r\n        return new Promise(function (resolve, reject) {\r\n            const request = new XMLHttpRequest();\r\n            request.open('GET', url);\r\n            request.responseType = 'arraybuffer';\r\n            request.onload = () => {\r\n                const urlParts = url.split('/');\r\n                const fileNamePart = urlParts[urlParts.length - 1];\r\n                resolve({ name: fileNamePart, contents: request.response });\r\n            };\r\n            request.onerror = () => {\r\n                reject({\r\n                    status: this.status,\r\n                    statusText: request.statusText\r\n                });\r\n            };\r\n            request.send();\r\n        });\r\n    }\r\n\r\n    static readArrayBufferFromFile(file) {\r\n        return new Promise(function (resolve, reject) {\r\n            const reader = new FileReader();\r\n            reader.onload = (evt) => {\r\n                resolve({ name: file.name, contents: evt.target.result });\r\n            };\r\n            reader.onerror = () => reject();\r\n            reader.readAsArrayBuffer(file);\r\n        });\r\n    }\r\n\r\n    static readTextFromFile(file) {\r\n        return new Promise(function (resolve, reject) {\r\n            const reader = new FileReader();\r\n            reader.onload = (evt) => {\r\n                resolve({ name: file.name, contents: evt.target.result });\r\n            };\r\n            reader.onerror = () => reject();\r\n            reader.readAsText(file);\r\n        });\r\n    }\r\n\r\n    static downloadFile(name, contents) {\r\n        const link = document.createElement('a');\r\n        link.download = name;\r\n        link.href = URL.createObjectURL(new Blob([contents]));\r\n        link.click();\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/file-helpers.js","import Beeper from './beeper';\r\nimport BufferLoader from './buffer-loader';\r\nimport SongPlayer from './song-player';\r\n\r\nexport default class PlaylistManager {\r\n\r\n    constructor(context, songLibrary) {\r\n        this.context = context;\r\n        this.beeper = new Beeper(context);\r\n        this.songLibrary = songLibrary;\r\n        this.fileDataMap = new Map();\r\n        this.bufferMap = new Map();\r\n    }\r\n\r\n    addSong(name, fileData) {\r\n        this.fileDataMap.set(name, fileData);\r\n    }\r\n\r\n    _getSongNameFromInput(input) {\r\n        if (input.trim().length === 0) {\r\n            return null;\r\n        }\r\n        if (this.fileDataMap.has(input)) {\r\n            return input;\r\n        }\r\n        // best guess at name?\r\n        input = input.toLowerCase();\r\n        for (const key of this.fileDataMap.keys()) {\r\n            if (key.toLowerCase().indexOf(input) >= 0) {\r\n                return key;\r\n            }\r\n        }\r\n        // no match :(\r\n        return null;\r\n    }\r\n\r\n    playSongByName(input, overridePlaybackSpeed) {\r\n        const songName = this._getSongNameFromInput(input);\r\n        if (!songName) {\r\n            console.log('Unrecognised song:', input);\r\n            return false;\r\n        }\r\n\r\n        const songInfo = this.songLibrary.getSongInfoByName(songName);\r\n        if (!songInfo.bpm) {\r\n            throw 'Please set BPM for ' + songName;\r\n        }\r\n\r\n        const playbackSpeed = overridePlaybackSpeed || songInfo.playbackSpeed;\r\n        const bufferKey = songName + '@' + playbackSpeed;\r\n        if (this.bufferMap.has(bufferKey)) {\r\n            const buffer = this.bufferMap.get(bufferKey);\r\n            this._playBuffer(buffer, playbackSpeed, songInfo.bpm, songInfo.beatsPerBar);\r\n        }\r\n        else {\r\n            const fileData = this.fileDataMap.get(songName);\r\n            let noteNumber = 96;\r\n            this.beeper.beep({ note: noteNumber });\r\n            BufferLoader.loadBuffer(this.context, fileData, playbackSpeed, 12, p => {\r\n                console.log('Stretching...', p);\r\n                this.beeper.beep({ note: ++noteNumber });\r\n            })\r\n                .then(buffer => {\r\n                    this.bufferMap.set(bufferKey, buffer);\r\n                    this._playBuffer(buffer, playbackSpeed, songInfo.bpm, songInfo.beatsPerBar);\r\n                });\r\n        }\r\n        return true;\r\n    }\r\n\r\n    stop() {\r\n        if (this.currentSongPlayer) {\r\n            this.currentSongPlayer.stop();\r\n        }\r\n    }\r\n\r\n    jumpToBar(barNumber) {\r\n        if (this.currentSongPlayer) {\r\n            this.beeper.doubleBeep();\r\n            this.currentSongPlayer.play(barNumber);\r\n        }\r\n    }\r\n\r\n    _playBuffer(buffer, playbackSpeed, bpm, beatsPerBar) {\r\n        if (this.currentSongPlayer) {\r\n            this.currentSongPlayer.stop();\r\n        }\r\n        this.beeper.beep();\r\n        const songPlayer = new SongPlayer(this.context, buffer, playbackSpeed, bpm, beatsPerBar);\r\n        songPlayer.play();\r\n        this.currentSongPlayer = songPlayer;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/playlist-manager.js","import NoteConverter from './note-converter';\r\n\r\nexport default class Beeper {\r\n\r\n    constructor(context) {\r\n        this.context = context;\r\n    }\r\n\r\n    beep(options = {}) {\r\n        const defaults = {\r\n            startSecondsFromNow: 0,\r\n            durationSeconds: .1,\r\n            note: 108\r\n        };\r\n        options = Object.assign({}, defaults, options);\r\n\r\n        const gainNode = this.context.createGain();\r\n        gainNode.gain.value = .1;\r\n        gainNode.connect(this.context.destination);\r\n\r\n        const oscillator = this.context.createOscillator();\r\n        oscillator.frequency.value = NoteConverter.getFrequencyFromNote(options.note);\r\n        oscillator.connect(gainNode);\r\n\r\n        const startWhen = options.startSecondsFromNow + this.context.currentTime;\r\n        oscillator.start(startWhen);\r\n        oscillator.stop(startWhen + options.durationSeconds);\r\n    }\r\n\r\n    doubleBeep() {\r\n        this.beep({ startSecondsFromNow: 0, durationSeconds: .05 });\r\n        this.beep({ startSecondsFromNow: .1, durationSeconds: .05 });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/beeper.js","export default class NoteConverter {\r\n    static getFrequencyFromNote(note) {\r\n        return 440 * Math.pow(2, (note - 69) / 12);\r\n    }\r\n    static getNoteFromFrequency(frequency) {\r\n        return Math.round(12 * (Math.log(frequency / 440) / Math.log(2))) + 69;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/note-converter.js","import '../vendor/kali.min.js'; /* global Kali */\r\n\r\nexport default class BufferLoader {\r\n\r\n    static loadBuffer(context, fileData, playbackSpeed = 1.0, progressIntervalCount = 12, progressCallback = undefined) {\r\n        return new Promise((resolve, reject) => {\r\n            context.decodeAudioData(fileData, (buffer) => {\r\n                const stretchedBuffer = BufferLoader._stretch(context, buffer, playbackSpeed, 2, false, progressIntervalCount, progressCallback);\r\n                resolve(stretchedBuffer);\r\n            }, (e) => {\r\n                console.error(e);\r\n                reject();\r\n            });\r\n        });\r\n    }\r\n\r\n    static _stretch(context, buffer, playbackSpeed, numChannels, bestQuality, progressIntervalCount, progressCallback) {\r\n\r\n        if (playbackSpeed === 1.0) {\r\n            return buffer;\r\n        }\r\n\r\n        const stretchSampleSize = 4096 * numChannels;\r\n        const inputBufferSize = buffer.getChannelData(0).length;\r\n        const outputBufferSize = Math.floor(inputBufferSize / playbackSpeed) + 1;\r\n\r\n        const outputAudioBuffer = context.createBuffer(numChannels, outputBufferSize, context.sampleRate);\r\n\r\n        let progressCounter = 0;\r\n        const progressIntervalSize = Math.floor(outputBufferSize * numChannels / progressIntervalCount);\r\n\r\n        for (let channel = 0; channel < numChannels; channel++) {\r\n            const inputData = buffer.getChannelData(channel);\r\n\r\n            const kali = new Kali(1);\r\n            kali.setup(context.sampleRate, playbackSpeed, !bestQuality);\r\n\r\n            const outputData = new Float32Array(outputBufferSize);\r\n\r\n            let inputOffset = 0;\r\n            let completedOffset = 0;\r\n            let flushed = false;\r\n\r\n            while (completedOffset < outputData.length) {\r\n                while (progressCallback && progressCounter >= progressIntervalSize) {\r\n                    progressCallback((completedOffset + outputBufferSize * channel) / (outputBufferSize * numChannels));\r\n                    progressCounter -= progressIntervalSize;\r\n                }\r\n\r\n                // Read stretched samples into outputData array\r\n                const framesCompleted = kali.output(outputData.subarray(completedOffset, Math.min(completedOffset + stretchSampleSize, outputData.length)));\r\n                completedOffset += framesCompleted;\r\n                progressCounter += framesCompleted;\r\n\r\n                if (inputOffset < inputData.length) {\r\n                    // If we have more data to write, write it\r\n                    const dataToInput = inputData.subarray(inputOffset, Math.min(inputOffset + stretchSampleSize, inputData.length));\r\n                    inputOffset += dataToInput.length;\r\n\r\n                    kali.input(dataToInput);\r\n                    kali.process();\r\n                } else if (!flushed) {\r\n                    kali.flush();\r\n                    flushed = true;\r\n                }\r\n            }\r\n\r\n            outputAudioBuffer.getChannelData(channel).set(outputData);\r\n        }\r\n\r\n        return outputAudioBuffer;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/buffer-loader.js","!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p=\"\",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){function i(e){return Math.floor(e)}var n=r(2),s=function(){function e(){this.is_initialized=!1,this.sample_rate=44100,this.channels=0,this.quick_search=!1,this.factor=0,this.search=0,this.segment=0,this.overlap=0,this.process_size=0,this.samples_in=0,this.samples_out=0,this.segments_total=0,this.skip_total=0}return e}(),o=function(){function e(e){var t=new s;t.channels=e,t.input_fifo=new n(Float32Array),t.output_fifo=new n(Float32Array),this.t=t}return e.prototype.difference=function(e,t,r){for(var i=0,n=0,n=0;r>n;n++)i+=Math.pow(e[n]-t[n],2);return i},e.prototype.tempo_best_overlap_position=function(e,t){var r,i,n,s=e.overlap_buf,o=e.search+1>>>1,a=64,p=i=e.quick_search?o:0,u=this.difference(t.subarray(e.channels*p),s,e.channels*e.overlap),f=0;if(e.quick_search){do{for(f=-1;1>=f;f+=2)for(r=1;(4>r||64==a)&&(p=o+f*r*a,!(0>p||p>=e.search));r++)n=this.difference(t.subarray(e.channels*p),s,e.channels*e.overlap),u>n&&(u=n,i=p);o=i}while(a>>>=2)}else for(p=1;p<e.search;p++)n=this.difference(t.subarray(e.channels*p),s,e.channels*e.overlap),u>n&&(u=n,i=p);return i},e.prototype.tempo_overlap=function(e,t,r,i){var n=0,s=0,o=0,a=1/e.overlap;for(n=0;n<e.overlap;n++){var p=a*n,u=1-p;for(s=0;s<e.channels;s++,o++)i[o]=t[o]*u+r[o]*p}},e.prototype.process=function(){for(var e=this.t;e.input_fifo.occupancy()>=e.process_size;){var t,r;e.segments_total?(r=this.tempo_best_overlap_position(e,e.input_fifo.read_ptr(0)),this.tempo_overlap(e,e.overlap_buf,e.input_fifo.read_ptr(e.channels*r),e.output_fifo.write_ptr(e.overlap))):(r=e.search/2,e.output_fifo.write(e.input_fifo.read_ptr(e.channels*r,e.overlap),e.overlap)),e.output_fifo.write(e.input_fifo.read_ptr(e.channels*(r+e.overlap)),e.segment-2*e.overlap);var n=e.channels*e.overlap;e.overlap_buf.set(e.input_fifo.read_ptr(e.channels*(r+e.segment-e.overlap)).subarray(0,n)),e.segments_total++,t=i(e.factor*(e.segment-e.overlap)+.5),e.input_fifo.read(null,t)}},e.prototype.input=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=0),null==t&&(t=e.length);var i=this.t;i.samples_in+=t,i.input_fifo.write(e,t)},e.prototype.output=function(e){var t=this.t,r=Math.min(e.length,t.output_fifo.occupancy());return t.samples_out+=r,t.output_fifo.read(e,r),r},e.prototype.flush=function(){var e=this.t,t=i(e.samples_in/e.factor+.5),r=t>e.samples_out?t-e.samples_out:0,n=new Float32Array(128*e.channels);if(r>0){for(;e.output_fifo.occupancy()<r;)this.input(n,128),this.process();e.samples_in=0}},e.prototype.setup=function(t,r,n,s,o,a){void 0===n&&(n=!1),void 0===s&&(s=null),void 0===o&&(o=null),void 0===a&&(a=null);var p=1,u=this.t;u.sample_rate=t,null==s&&(s=Math.max(10,e.segments_ms[p]/Math.max(Math.pow(r,e.segments_pow[p]),1))),null==o&&(o=s/e.searches_div[p]),null==a&&(a=s/e.overlaps_div[p]);var f;if(u.quick_search=n,u.factor=r,u.segment=i(t*s/1e3+.5),u.search=i(t*o/1e3+.5),u.overlap=Math.max(i(t*a/1e3+4.5),16),2*u.overlap>u.segment&&(u.overlap-=8),u.is_initialized){var h=new Float32Array(u.overlap*u.channels),l=0;u.overlap*u.channels<u.overlap_buf.length&&(l=u.overlap_buf.length-u.overlap*u.channels),h.set(u.overlap_buf.subarray(l,u.overlap_buf.length)),u.overlap_buf=h}else u.overlap_buf=new Float32Array(u.overlap*u.channels);f=i(Math.ceil(r*(u.segment-u.overlap))),u.process_size=Math.max(f+u.overlap,u.segment)+u.search,u.is_initialized||u.input_fifo.reserve(i(u.search/2)),u.is_initialized=!0},e.prototype.setTempo=function(e){var t=this.t;this.setup(t.sample_rate,e,t.quick_search)},e.segments_ms=[82,82,35,20],e.segments_pow=[0,1,.33,1],e.overlaps_div=[6.833,7,2.5,2],e.searches_div=[5.587,6,2.14,2],e}();window&&(window.Kali=o),e.exports=o},function(e,t){var r=function(){function e(e){this.begin=0,this.end=0,this.typedArrayConstructor=e,this.buffer=new e(16384)}return e.prototype.clear=function(){this.begin=this.end=0},e.prototype.reserve=function(e){for(this.begin==this.end&&this.clear();;){if(this.end+e<this.buffer.length){var t=this.end;return this.end+=e,t}if(this.begin>16384)this.buffer.set(this.buffer.subarray(this.begin,this.end)),this.end-=this.begin,this.begin=0;else{var r=new this.typedArrayConstructor(this.buffer.length+e);r.set(this.buffer),this.buffer=r}}},e.prototype.write=function(e,t){var r=this.reserve(t);this.buffer.set(e.subarray(0,t),r)},e.prototype.write_ptr=function(e){var t=this.reserve(e);return this.buffer.subarray(t,t+e)},e.prototype.read=function(e,t){t+this.begin>this.end&&console.error(\"Read out of bounds\",t,this.end,this.begin),null!=e&&e.set(this.buffer.subarray(this.begin,this.begin+t)),this.begin+=t},e.prototype.read_ptr=function(e,t){return void 0===t&&(t=-1),t>this.occupancy()&&console.error(\"Read Pointer out of bounds\",t),0>t&&(t=this.occupancy()),this.buffer.subarray(this.begin+e,this.begin+t)},e.prototype.occupancy=function(){return this.end-this.begin},e}();e.exports=r}]);\n\n\n// WEBPACK FOOTER //\n// ./vendor/kali.min.js","export default class SongPlayer {\r\n\r\n    constructor(context, buffer, bufferRate, bpm, beatsPerBar) {\r\n        this.context = context;\r\n        this.buffer = buffer;\r\n        this.bpm = bpm;\r\n        this.beatsPerBar = beatsPerBar;\r\n        this.secondsPerBar = this.beatsPerBar * 60 / (bufferRate * bpm);\r\n    }\r\n\r\n    play(barNumber) {\r\n        this.stop();\r\n        const source = this.context.createBufferSource();\r\n        source.buffer = this.buffer;\r\n        source.connect(this.context.destination);\r\n        const startTime = this.getStartTimeInSeconds(barNumber || 0);\r\n        source.start(0, startTime);\r\n        this.currentSource = source;\r\n    }\r\n\r\n    stop() {\r\n        if (this.currentSource) {\r\n            this.currentSource.stop();\r\n        }\r\n    }\r\n\r\n    getStartTimeInSeconds(barNumber) {\r\n        const startTimeInSeconds = ((barNumber - 1) * this.secondsPerBar);\r\n        return Math.max(0, startTimeInSeconds);\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/song-player.js","export default class SongFile {\r\n    constructor(fileName, fileData) {\r\n        this.fileName = fileName;\r\n        this.fileData = fileData;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/song-file.js","import SongInfo from './song-info';\r\n\r\nexport default class SongLibrary {\r\n\r\n    constructor() {\r\n        this.songInfos = this.retrieveFromStorage();\r\n    }\r\n\r\n    getSongInfoByName(name) {\r\n        return this.songInfos.get(name);\r\n    }\r\n\r\n    updateSongInfos(songs) {\r\n        for (let i = 0; i < songs.length; i++) {\r\n            // add or update\r\n            this.songInfos.set(songs[i].name, SongInfo.fromObject(songs[i]));\r\n        }\r\n        this.persistToStorage();\r\n    }\r\n\r\n    persistToStorage() {\r\n        // can't serialize Map, so use spread operator to convert to Array\r\n        const json = JSON.stringify([... this.songInfos]);\r\n        localStorage.setItem('song-library', json);\r\n    }\r\n\r\n    retrieveFromStorage() {\r\n        const jsonFromStorage = localStorage.getItem('song-library');\r\n        return new Map(JSON.parse(jsonFromStorage));\r\n    }\r\n\r\n    import(json) {\r\n        const songsToImport = new Map(JSON.parse(json));\r\n        this.songInfos = new Map([... this.songInfos, ...songsToImport]);\r\n        this.persistToStorage();\r\n    }\r\n\r\n    export() {\r\n        return localStorage.getItem('song-library');\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/song-library.js","export default class TabControl {\r\n\r\n    constructor(document) {\r\n        this.tabLinks = Array.from(document.getElementsByClassName('tab-link'));\r\n        this.tabPanes = Array.from(document.getElementsByClassName('tab-pane'));\r\n\r\n        this.tabLinks.forEach(\r\n            tabLink => {\r\n                tabLink.onclick = () => { this.openTab(TabControl._getTargetTabId(tabLink)); };\r\n            });\r\n    }\r\n\r\n    static _getTargetTabId(tabLink) {\r\n        return tabLink.getAttribute('href').substring(1);\r\n    }\r\n\r\n    openTab(targetTabId) {\r\n        const toggleActive = (tabId, el) => {\r\n            if (tabId === targetTabId) {\r\n                el.classList.add('active');\r\n            } else {\r\n                el.classList.remove('active');\r\n            }\r\n        };\r\n        this.tabLinks.forEach(\r\n            tabLink => {\r\n                toggleActive(TabControl._getTargetTabId(tabLink), tabLink);\r\n            });\r\n        this.tabPanes.forEach(\r\n            tabContents => {\r\n                toggleActive(tabContents.id, tabContents);\r\n            });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/tab-control.js","import CommandParser from './command-parser';\r\n\r\nexport default class VoiceCommandListener {\r\n\r\n    static checkCompatibility() {\r\n        if (!(window.SpeechRecognition || window.webkitSpeechRecognition)) {\r\n            alert('SpeechRecognition is not supported. Please use a compatible browser, eg Chrome.');\r\n            return false;\r\n        }\r\n        const isLocalhost = location.host.startsWith('localhost');\r\n        if (isLocalhost) {\r\n            return true;\r\n        }\r\n        const isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\r\n        if (isChrome && location.protocol !== 'https:') {\r\n            alert('Chrome requires https for SpeechRecognition. Redirecting now!');\r\n            location.protocol = 'https:';\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    constructor() {\r\n        const commandParser = new CommandParser();\r\n        commandParser.addCommand('play {words} at {number}%', (w, n) => this.onPlayCommand(w, n));\r\n        commandParser.addCommand('play {words}', (w) => this.onPlayCommand(w));\r\n        commandParser.addCommand('stop', () => this.onStopCommand());\r\n        commandParser.addCommand('bar {number}', (n) => this.onBarCommand(n));\r\n        // sometimes comes through as eg \"bar2\"\r\n        commandParser.addCommand('bar{number}', (n) => this.onBarCommand(n));\r\n        this.commandParser = commandParser;\r\n    }\r\n\r\n    startListening() {\r\n        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n        // recognition.continuous = true;\r\n        // TODO: other languages?\r\n        recognition.lang = 'en-US';\r\n        recognition.interimResults = false;\r\n        recognition.maxAlternatives = 5;\r\n        recognition.start();\r\n\r\n        recognition.onaudioend = () => {\r\n            // start listening again after audio ends\r\n            this.startListening();\r\n        };\r\n\r\n        recognition.onresult = ev => {\r\n            const results = ev.results[0];\r\n            for (let i = 0; i < results.length; i++) {\r\n                if (this.commandParser.parse(results[i].transcript)) {\r\n                    break;\r\n                }\r\n                console.log('Unrecognised command:', results[i].transcript);\r\n            }\r\n        };\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/voice-command-listener.js","export default class CommandParser {\r\n\r\n    constructor() {\r\n        this.commands = [];\r\n    }\r\n\r\n    static _getRegex(command) {\r\n        return '^' + command\r\n            .replace(/{number}/g, '(.*)')\r\n            .replace(/{words}/g, '(.*)');\r\n    }\r\n    static _getTypes(command) {\r\n        const indexedTypes = new Map();\r\n        const indexType = (type) => {\r\n            let index = command.indexOf(type);\r\n            while (index >= 0) {\r\n                indexedTypes.set(index, type);\r\n                index = command.indexOf(type, index + 1);\r\n            }\r\n        };\r\n        indexType('{number}');\r\n        indexType('{words}');\r\n\r\n        return [...indexedTypes.entries()]\r\n            .sort((a, b) => a[0] - b[0]) // order by index\r\n            .map(a => a[1]); // select values\r\n    }\r\n\r\n    addCommand(command, action) {\r\n        this.commands.push({\r\n            regex: CommandParser._getRegex(command),\r\n            types: CommandParser._getTypes(command),\r\n            action: action\r\n        });\r\n    }\r\n\r\n    parse(statement) {\r\n        for (const command of this.commands) {\r\n            const results = statement.match(command.regex);\r\n            if (results) {\r\n                const args = [];\r\n                for (let i = 0; i < command.types.length; i++) {\r\n                    const type = command.types[i];\r\n                    const value = results[i + 1];\r\n\r\n                    switch (type) {\r\n                        case '{words}': {\r\n                            args.push(value);\r\n                            break;\r\n                        }\r\n                        case '{number}': {\r\n                            const valueAsNumber = Number.parseInt(value);\r\n                            if (!Number.isNaN(valueAsNumber) && Number.isFinite(valueAsNumber)) {\r\n                                args.push(valueAsNumber);\r\n                            }\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            throw 'Unknown command type: ' + type;\r\n                        }\r\n                    }\r\n                }\r\n                return command.action(...args);\r\n            }\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./js/command-parser.js","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;\"undefined\"!=typeof window?t=window:\"undefined\"!=typeof global?t=global:\"undefined\"!=typeof self&&(t=self),t.jtmpl=e()}}(function(){var define,module,exports;return function e(t,n,r){function o(i,l){if(!n[i]){if(!t[i]){var c=\"function\"==typeof require&&require;if(!l&&c)return c(i,!0);if(a)return a(i,!0);throw new Error(\"Cannot find module '\"+i+\"'\")}var d=n[i]={exports:{}};t[i][0].call(d.exports,function(e){var n=t[i][1][e];return o(n?n:e)},d,d.exports,e,t,n,r)}return n[i].exports}for(var a=\"function\"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t){\"use strict\";function n(e,t,r,o){function a(e,t){if(!e)throw t||\"assertion failed\"}function i(e,t){for(var n=0,r=Object.getOwnPropertyNames(t),o=r.length;o>n;n++)e[r[n]]=t[r[n]]}function l(e,t){if(\"object\"==typeof e&&null!==e&&\"object\"==typeof t&&null!==t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(!l(e[n],t[n]))return!1}return!0}return e!==t?!1:!0}function c(){var e=arguments[0],t=[\"string\",\"number\"].indexOf(typeof arguments[1])>-1?arguments[1]:null,n=\"function\"==typeof arguments[1]?arguments[1]:\"function\"==typeof arguments[2]?arguments[2]:null;a([\"change\",\"update\",\"insert\",\"delete\"].indexOf(e)>-1),a([\"change\"].indexOf(e)>-1&&null!==t||[\"insert\",\"delete\",\"update\"].indexOf(e)>-1&&null===t),N[e][t]||(N[e][t]=[]),-1===N[e][t].indexOf(n)&&N[e][t].push(n)}function d(){var e,t=arguments[0],n=\"string\"==typeof arguments[1]?arguments[1]:null,r=\"function\"==typeof arguments[1]?arguments[1]:\"function\"==typeof arguments[2]?arguments[2]:null;N[t][n]&&(r?(e=N[t][n].indexOf(r),e>-1&&N[t][n].splice(e,1)):N[t][n]=[])}function u(e,t,n){var r,o=N[e][[\"change\"].indexOf(e)>-1?t:null]||[],a=o.length;for(r=0;a>r;r++)o[r].call(C,t,n)}function p(){function t(e){var n,r=Array.isArray(e)?[]:{};for(n in e)\"object\"==typeof e[n]?r[n]=t(e[n]):\"function\"!=typeof e[n]&&\"_\"!==n[0]&&(r[n]=e[n]);return r}return JSON.stringify(t(e))}function s(t){var n;\"string\"==typeof t&&(t=JSON.parse(t));for(n in t)C(n,t[n]),u(\"update\",n);C.len=e.length}function f(e){l(b[e],h(e,function(){},!0))||u(\"change\",e);for(var t=0,n=x[e]||[],r=n.length;r>t;t++)delete S[n[t]],O[e][t].trigger(\"update\",n[t]);C.parent&&C.parent.trigger(\"update\",C.prop)}function m(e){function n(t){return function(n,r){return t._dependentProps[n]||(t._dependentProps[n]=[],t._dependentContexts[n]=[]),-1===t._dependentProps[n].indexOf(e)&&(t._dependentProps[n].push(e),t._dependentContexts[n].push(C)),t(n,r,!0)}}var o=n(C);return j(o),r&&(o.parent=n(r)),o.root=n(t||C),o}function g(e){var t,n;if(e&&\"object\"==typeof e){n={};for(t in e)n[t]=e[t]}else n=e;return n}function h(t,n,r){var o=e[t];return\"function\"==typeof o?(o=o.call(m(t),n),r||(b[t]=void 0===o?o:g(o))):r||(b[t]=o),o}function v(e,r,o){var a=h(e,r,o);return a&&\"object\"==typeof a?S[e]?S[e]:S[e]=n(a,t||C,C,e):a}function y(t,n){var r=h(t);\"function\"==typeof e[t]?e[t].call(m(t),n):(e[t]=n,n&&\"object\"==typeof n&&(delete b[t],delete S[t])),r!==n&&u(\"update\",t)}function _(e,t,n){return(void 0===t||\"function\"==typeof t?v:y)(e,t,n)}function j(n){function a(t,r){return function(){var o=[][t].apply(e,arguments);return this.len=this.values.length,b={},S={},r.apply(this,arguments),n.parent.trigger(\"update\",n.prop),o}}i(n,{values:e,parent:r||null,root:t||n,prop:void 0===o?null:o,on:c,off:d,trigger:u,toJSON:p,fromJSON:s,_dependentProps:x,_dependentContexts:O}),Array.isArray(e)&&i(n,{len:e.length,pop:a(\"pop\",function(){u(\"delete\",this.len,1)}),push:a(\"push\",function(){u(\"insert\",this.len-1,1)}),reverse:a(\"reverse\",function(){u(\"delete\",0,this.len),u(\"insert\",0,this.len)}),shift:a(\"shift\",function(){u(\"delete\",0,1)}),unshift:a(\"unshift\",function(){u(\"insert\",0,1)}),sort:a(\"sort\",function(){u(\"delete\",0,this.len),u(\"insert\",0,this.len)}),splice:a(\"splice\",function(){arguments[1]&&u(\"delete\",arguments[0],arguments[1]),arguments.length>2&&u(\"insert\",arguments[0],arguments.length-2)})})}var N={change:{},update:{},insert:{},\"delete\":{}},x={},O={},b={},S={};c(\"update\",f);var C=function(){return _.apply(null,arguments)};return j(C),C}\"object\"==typeof t&&(t.exports=n)},{}],2:[function(e,t){var n=/^\\{\\{([\\w\\.\\-]+)\\}\\}$/;t.exports=[function(e,t){var r=e.getAttribute(t).match(n);return\"value\"===t&&r?{prop:r[1],rule:function(e,t,n,r){function o(){var o=jtmpl._get(n,r);e[t]!==o&&(e[t]=o||\"\")}var a=[\"text\",\"password\"].indexOf(e.type)>-1?\"keyup\":\"change\";e.addEventListener(a,function(){n(r,e[t])}),n.on(\"change\",r,o),o()}}:void 0},function(e,t){var r=e.getAttribute(t).match(n);return\"jtmpl-selected\"===t&&r?{prop:r[1],rule:function(e,t,n,r){function o(){if(\"OPTION\"===e.nodeName){var t=selects.indexOf(e.parentNode);if(selectsUpdating[t])return;for(var o=0,a=selectOptions[t].length;a>o;o++)selectOptions[t][o].selected=selectOptionsContexts[t][o](r)}else e.selected=n(r)}\"OPTION\"===e.nodeName?setTimeout(function(){var t=selects.indexOf(e.parentNode);-1===t&&(t=selects.push(e.parentNode)-1,selectOptions.push([]),selectOptionsContexts.push([]),e.parentNode.addEventListener(\"change\",function(){selectsUpdating[t]=!0;for(var e=0,n=selectOptions[t].length;n>e;e++)selectOptionsContexts[t][e](r,selectOptions[t][e].selected);selectsUpdating[t]=!1})),selectOptions[t].push(e),selectOptionsContexts[t].push(n)},0):e.addEventListener(\"change\",function(){n(r,this.selected)}),n.on(\"change\",r,o),setTimeout(o)}}:void 0},function(e,t){var r=e.getAttribute(t).match(n);return\"jtmpl-checked\"===t&&r?{prop:r[1],rule:function(e,t,n,r){function o(){if(e.name){if(radioGroupsUpdating[e.name])return;for(var t=0,o=radioGroups[e.name][0].length;o>t;t++)radioGroups[e.name][0][t].checked=radioGroups[e.name][1][t](r)}else e.checked=n(r)}function a(){\"radio\"===e.type&&e.name&&(radioGroups[e.name]||(radioGroups[e.name]=[[],[]]),radioGroups[e.name][0].push(e),radioGroups[e.name][1].push(n)),e.addEventListener(\"click\",function(){if(\"radio\"===e.type&&e.name){radioGroupsUpdating[e.name]=!0;for(var t=0,o=radioGroups[e.name][0].length;o>t;t++)radioGroups[e.name][1][t](r,radioGroups[e.name][0][t].checked);radioGroupsUpdating[e.name]=!1}else n(r,e.checked)}),n.on(\"change\",r,o),setTimeout(o)}setTimeout(a)}}:void 0},function(e,t){var r=e.getAttribute(t).match(n);return r?{prop:r[1],rule:function(e,t,n,r){function o(){var o=jtmpl._get(n,r);return o?e.setAttribute(t,o):e.removeAttribute(t)}n.on(\"change\",r,o),o()}}:void 0},function(e,t){return{prop:e.getAttribute(t),rule:function(e,t,n,r){function o(){e.setAttribute(a,jtmpl.utemplate(r,n,o))}var a=t.replace(\"jtmpl-\",\"\");o()}}}]},{}],3:[function(_dereq_,module,exports){module.exports=[function(e){return e.innerHTML.match(/^[\\w\\.\\-]+$/)?{prop:e.innerHTML,rule:function(e,t,n){var r=document.createTextNode(jtmpl._get(t,n)||\"\");e.appendChild(r),t.on(\"change\",n,function(){r.data=jtmpl._get(t,n)||\"\"})}}:void 0},function(e){var t=e.innerHTML.match(/^&([\\w\\.\\-]+)$/);return t?{prop:t[1],rule:function(e,t,n){function r(){for(var e,r=document.createDocumentFragment(),i=document.createElement(\"body\");a;)o.parentNode.removeChild(o.previousSibling),a--;for(i.innerHTML=t(n)||\"\",a=i.childNodes.length,e=0;a>e;e++)r.appendChild(i.childNodes[0]);o.parentNode.insertBefore(r,o)}var o=document.createComment(\"\"),a=0;e.appendChild(o),t.on(\"change\",n,r),r()}}:void 0},function(e){var t=e.innerHTML.match(/>([\\w\\.\\-]+)|'([^\\']*)\\'|\"([^\"]*)\"/);return t?{prop:t,rule:function(e,t,n){function r(){o||(o=a.parentNode),jtmpl.loader(o,n[1]?t(n[1]):n[2]||n[3],t)}var o,a=document.createComment(\"\");n[1]&&t.on(\"change\",n[1],r),e.appendChild(a),setTimeout(r)}}:void 0},function(node){var match=node.innerHTML.match(/^#([\\w\\.\\-]+)$/);return match?{block:match[1],rule:function(fragment,model,prop,template){function update(i){return function(){for(var parent=anchor.parentNode,anchorIndex=[].indexOf.call(parent.childNodes,anchor),pos=anchorIndex-length+i*chunkSize,size=chunkSize,arr=\".\"===prop?model:model(prop);size--;)parent.removeChild(parent.childNodes[pos]);parent.insertBefore(eval(template+\"(arr(i))\"),parent.childNodes[pos])}}function insert(index,count){var parent=anchor.parentNode,anchorIndex=[].indexOf.call(parent.childNodes,anchor),pos=anchorIndex-length+index*chunkSize,size=count*chunkSize,i,fragment,arr=\".\"===prop?model:model(prop);for(i=0,fragment=document.createDocumentFragment();count>i;i++)fragment.appendChild(eval(template+\"(arr(index + i))\"));parent.insertBefore(fragment,parent.childNodes[pos]),length+=size}function del(e,t){var n=anchor.parentNode,r=[].indexOf.call(n.childNodes,anchor),o=r-length+e*chunkSize,a=t*chunkSize;for(length-=a;a--;)n.removeChild(n.childNodes[o])}function change(){for(var val=\".\"===prop?model:model(prop),i,len,render;length;)anchor.parentNode.removeChild(anchor.previousSibling),length--;if(\"function\"==typeof val&&void 0!==val.len){val.on(\"insert\",insert),val.on(\"delete\",del),render=document.createDocumentFragment();var func=eval(template),child,childModel;for(i=0,len=val.values.length;len>i;i++)val.on(\"change\",i,update(i)),childModel=val(i),child=func(childModel),child.__jtmpl__=childModel,render.appendChild(child);length=render.childNodes.length,chunkSize=~~(length/len),anchor.parentNode.insertBefore(render,anchor)}else\"function\"==typeof val&&void 0===val.len?(render=eval(template+\"(val)\"),length=render.childNodes.length,chunkSize=length,anchor.parentNode.insertBefore(render,anchor),anchor.parentNode.__jtmpl__=model):val&&(render=eval(template+\"(model)\"),length=render.childNodes.length,chunkSize=length,anchor.parentNode.insertBefore(render,anchor))}var anchor=document.createComment(\"\"),length=0,chunkSize;fragment.appendChild(anchor),change(),model.on(\"change\",prop,change)}}:void 0},function(node){var match=node.innerHTML.match(/^\\^([\\w\\.\\-]+)$/);return match?{block:match[1],rule:function(fragment,model,prop,template){function change(){for(var val=\".\"===prop?model:model(prop),i,len,render;length;)anchor.parentNode.removeChild(anchor.previousSibling),length--;\"function\"==typeof val&&void 0!==val.len?(val.on(\"insert\",change),val.on(\"delete\",change),render=document.createDocumentFragment(),0===val.len&&render.appendChild(eval(template+\"(val(i))\")),length=render.childNodes.length,anchor.parentNode.insertBefore(render,anchor)):val||(render=eval(template+\"(model)\"),length=render.childNodes.length,anchor.parentNode.insertBefore(render,anchor))}var anchor=document.createComment(\"\"),length=0;fragment.appendChild(anchor),change(),model.on(\"change\",prop,change)}}:void 0},function(){return{rule:function(e){e.appendChild(document.createTextNode(\"REMOVEMELATER\"))}}}]},{}],4:[function(e,t){function n(t,o,a){var i,l,c,d,u,p=\"(function(model) {\\nvar frag = document.createDocumentFragment(), node;\\n\\n\";a||(p+=\"var radioGroups = {};\\nvar radioGroupsUpdating = {};\\nvar selects = [];\\nvar selectsUpdating = [];\\nvar selectOptions = [];\\nvar selectOptionsContexts = [];\\n\\n\"),p+='model = typeof model === \"function\" ?model : typeof model === \"object\" ?jtmpl(model) :jtmpl({\".\": model});\\n\\n';for(var s,f=0,m=t.childNodes,g=m.length;g>f;f++)switch(s=m[f],s.nodeType){case 1:if(\"SCRIPT\"===s.nodeName&&\"text/jtmpl-tag\"===s.type){for(i=0,l=e(\"./compile-rules-node\"),c=l.length;c>i;i++)if(d=l[i](s)){if(d.block){for(u=document.createDocumentFragment(),f++;g>f&&!r(d.block,m[f].innerHTML||\"\");f++)u.appendChild(m[f].cloneNode(!0));if(f===g)throw\"jtmpl: Unclosed \"+d.block;p+=\"(\"+d.rule.toString()+\")(frag, model, \"+JSON.stringify(d.block)+\", \"+JSON.stringify(n(u,o&&o+\"-\"+s.innerHTML+\"[\"+f+\"]\",(a||0)+1))+\");\"}else p+=\"(\"+d.rule.toString()+\")(frag, model, \"+JSON.stringify(d.prop)+\");\\n\";break}}else{p+='node = document.createElement(\"'+s.nodeName+'\");\\n';for(var h=0,v=s.attributes,y=v.length;y>h;h++)for(i=0,l=e(\"./compile-rules-attr\"),c=l.length;c>i;i++)if(d=l[i](s,v[h].name.toLowerCase())){p+=\"(\"+d.rule.toString()+\")(node, \"+JSON.stringify(v[h].name)+\", model, \"+JSON.stringify(d.prop)+\");\\n\";break}\"INPUT\"!==s.nodeName&&(p+=\"node.appendChild(\"+n(s,o&&o+\"-\"+s.nodeName+\"[\"+f+\"]\",(a||0)+1)+\"(model));\\n\"),p+=\"frag.appendChild(node);\\n\"}break;case 3:p+=\"frag.appendChild(document.createTextNode(\"+JSON.stringify(s.data)+\"));\\n\";break;case 8:p+=\"frag.appendChild(document.createComment(\"+JSON.stringify(s.data)+\"));\\n\"}return p+=\"return frag; })\",p+=o?\"\\n//@ sourceURL=\"+o+\"\\n//# sourceURL=\"+o+\"\\n\":\"\"}function r(e,t){var n=t.match(/^\\/([\\w\\.\\-]+)?$/);return n?\"\"===e||!n[1]||n[1]===e:!1}t.exports=n},{\"./compile-rules-attr\":2,\"./compile-rules-node\":3}],5:[function(_dereq_,module,exports){function jtmpl(){var args=[].slice.call(arguments),target,t,template,model;return[\"GET\",\"POST\"].indexOf(args[0])>-1?_dereq_(\"./xhr\").apply(null,args):1===args.length&&\"object\"==typeof args[0]?_dereq_(\"freak\")(args[0]):1===args.length&&\"string\"==typeof args[0]?document.querySelector(args[0]).__jtmpl__:void((args[0]&&args[0].nodeType||\"string\"==typeof args[0])&&(args[1]&&\"function\"==typeof args[1].appendChild||\"string\"==typeof args[1])&&void 0!==args[2]&&(target=args[0]&&args[0].nodeType?args[0]:document.querySelector(args[0]),template=args[1].match(jtmpl.RE_NODE_ID)?document.querySelector(args[1]).innerHTML:args[1],model=\"function\"==typeof args[2]?args[2]:jtmpl(\"object\"==typeof args[2]?args[2]:\"string\"==typeof args[2]&&args[2].match(jtmpl.RE_NODE_ID)?_dereq_(\"./loader\")(document.querySelector(args[2]).innerHTML):{\".\":args[2]}),\"SCRIPT\"===target.nodeName&&(t=document.createElement(\"div\"),t.id=target.id,target.parentNode.replaceChild(t,target),target=t),target.__jtmpl__=model,target.innerHTML=\"\",target.appendChild(eval(jtmpl.compile(jtmpl.parse(template),target.getAttribute(\"data-jtmpl\"))+\"(model)\"))))}window.addEventListener(\"DOMContentLoaded\",function(){for(var e=_dereq_(\"./loader\"),t=document.querySelectorAll(\"[data-jtmpl]\"),n=0,r=t.length;r>n;n++)e(t[n],t[n].getAttribute(\"data-jtmpl\"))}),jtmpl.RE_NODE_ID=/^#[\\w\\.\\-]+$/,jtmpl.RE_ENDS_WITH_NODE_ID=/.+(#[\\w\\.\\-]+)$/,jtmpl.parse=_dereq_(\"./parse\"),jtmpl.compile=_dereq_(\"./compile\"),jtmpl.loader=_dereq_(\"./loader\"),jtmpl.utemplate=_dereq_(\"./utemplate\"),jtmpl._get=function(e,t){var n=e(t);return\"function\"==typeof n?JSON.stringify(n.values):n},_dereq_(\"./polyfills/matches\"),jtmpl.plugins=_dereq_(\"./plugins\"),module.exports=jtmpl,\"undefined\"!=typeof window&&(window.jtmpl=jtmpl)},{\"./compile\":4,\"./loader\":6,\"./parse\":7,\"./plugins\":8,\"./polyfills/matches\":12,\"./utemplate\":13,\"./xhr\":14,freak:1}],6:[function(_dereq_,module,exports){module.exports=function(target,src,model){function mixin(e,t){for(var n in t)0===n.indexOf(\"__\")&&n.lastIndexOf(\"__\")===n.length-2||\"function\"==typeof t[n]?void 0===e.values[n]&&(e.values[n]=t[n]):void 0===e(n)&&e(n,t[n])}function applyPlugins(){var e,t;for(e in jtmpl.plugins)plugin=jtmpl.plugins[e],t=model.values[\"__\"+e+\"__\"],\"function\"==typeof plugin&&void 0!==t&&plugin.call(model,t,target)}function evalObject(body,src){var result,module={exports:{}};return src=src?\"\\n//@ sourceURL=\"+src+\"\\n//# sourceURL=\"+src:\"\",body.match(/^\\s*{[\\S\\s]*}\\s*$/)?eval(\"result=\"+body+src):(eval(body+src),module.exports)}function loadModel(e,t,n){var r;if(e)if(e.match(jtmpl.RE_NODE_ID)){var o=n.querySelector(e);mixin(model,evalObject(o.innerHTML,e)),applyPlugins(),jtmpl(target,t,model)}else r=e.indexOf(\"#\"),jtmpl(\"GET\",r>-1?e.substring(0,r):e,function(n){var r=e.match(jtmpl.RE_ENDS_WITH_NODE_ID),o=r&&(new DOMParser).parseFromString(n,\"text/html\").querySelector(r[1]);mixin(model,evalObject(r?o.innerHTML:n,e)),applyPlugins(),jtmpl(target,t,model)});else jtmpl(target,t,model)}function loadTemplate(){var e;if(src)if(src.match(jtmpl.RE_NODE_ID)){var t=document.querySelector(src);loadModel(t.getAttribute(\"data-model\"),t.innerHTML,document)}else e=src.indexOf(\"#\"),jtmpl(\"GET\",e>-1?src.substring(0,e):src,function(e){var t,n,r=src.match(jtmpl.RE_ENDS_WITH_NODE_ID);r?(t=document.createElement(\"iframe\"),t.style.display=\"none\",document.body.appendChild(t),n=t.contentDocument,n.writeln(e),document.body.removeChild(t)):n=document;var o=r&&n.querySelector(r[1]);loadModel(r?o.getAttribute(\"data-model\"):\"\",r?o.innerHTML:e,n)})}model=model||{},\"function\"!=typeof model&&(model=jtmpl(model)),loadTemplate()}},{}],7:[function(e,t){function n(e){function t(e){return e=e.replace(/\\{\\{\\{([\\S\\s]*?)\\}\\}\\}/g,\"{{&$1}}\"),e=e.replace(/\\{\\{([\\S\\s]*?)\\}\\}/g,function(t,n,r){var o=e.slice(0,r),a=!!o.match(/<[\\w\\-]+[^>]*?$/),i=o.match(/<(script|SCRIPT)/g),l=o.match(/<\\/(script|SCRIPT)/g),c=(i&&i.length||0)>(l&&l.length||0),d=!!o.match(/<!--\\s*$/),u=0===n.indexOf(\"!\");return a||d?u?\"\":t:c?t:'<script type=\"text/jtmpl-tag\">'+n.trim()+\"</script>\"}),e=e.replace(/(<(?:option|OPTION)[^>]*?)(?:selected|SELECTED)=/g,\"$1jtmpl-selected=\"),e=e.replace(/(<(?:input|INPUT)[^>]*?)(?:checked|CHECKED)=/g,\"$1jtmpl-checked=\")}var n,r;return e=t(e),n=document.createElement(\"iframe\"),n.style.display=\"none\",document.body.appendChild(n),n.contentDocument.writeln(\"<!doctype html>\\n<html><body>\"+e+\"</body></html>\"),r=n.contentDocument.body,document.body.removeChild(n),r}t.exports=n},{}],8:[function(e,t){t.exports={init:e(\"./plugins/init\"),on:e(\"./plugins/on\"),routes:e(\"./plugins/routes\")}},{\"./plugins/init\":9,\"./plugins/on\":10,\"./plugins/routes\":11}],9:[function(e,t){t.exports=function(e){if(\"function\"==typeof e){var t=this;setTimeout(function(){e.call(t)})}}},{}],10:[function(e,t){t.exports=function(e,t){function n(n){t.addEventListener(n,function(t){for(var r in e[n])if(t.target.matches(r)){for(var o=t.target;!o.__jtmpl__&&o.parentNode;)o=o.parentNode;e[n][r].call(o.__jtmpl__,t)}})}for(var r in e)n(r)}},{}],11:[function(e,t){t.exports=function(){}},{}],12:[function(){\"undefined\"!=typeof Element&&function(e){e.matches=e.matches||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){for(var t=this,n=(t.parentNode||t.document).querySelectorAll(e),r=-1;n[++r]&&n[r]!=t;);return!!n[r]}}(Element.prototype)},{}],13:[function(e,t){function n(e,t,r){return e.replace(/\\{\\{#([\\w\\.\\-]+)\\}\\}(.+?)\\{\\{\\/([\\w\\.\\-]*?)\\}\\}/g,function(e,o,a,i){if(\"\"!==i&&i!==o)throw\"jtmpl: Unclosed \"+o;\"function\"==typeof r&&t.on(\"change\",o,r);var l=\".\"===o?t:t(o);return\"function\"==typeof l&&void 0!==l.len?l.len>0?l.values.map(function(e,t){return n(a.replace(/\\{\\{\\.\\}\\}/g,\"{{\"+t+\"}}\"),l,r)}).join(\"\"):\"\":\"function\"==typeof l&&void 0===l.len?n(a,l,r):l?n(a,t,r):\"\"}).replace(/\\{\\{\\^([\\w\\.\\-]+)\\}\\}(.+?)\\{\\{\\/([\\w\\.\\-]*?)\\}\\}/g,function(e,o,a,i){if(\"\"!==i&&i!==o)throw\"jtmpl: Unclosed \"+o;\"function\"==typeof r&&t.on(\"change\",o,r);var l=\".\"===o?t:t(o);return\"function\"==typeof l&&void 0!==l.len?0===l.len?n(a,t,r):\"\":l?\"\":n(a,t,r)}).replace(/\\{\\{([\\w\\.\\-]+)\\}\\}/g,function(e,n){return\"function\"==typeof r&&t.on(\"change\",n,r),void 0===t(n)?\"\":t(n)+\"\"})}t.exports=n},{}],14:[function(e,t){t.exports=function(){var e,t,n,r,o,a=[].slice.call(arguments),i=new XMLHttpRequest,l=a.reduce(function(e,t){return\"function\"==typeof t?t:e},null),c=a[a.length-1];for(\"object\"!=typeof c&&(c={}),e=0,r=Object.getOwnPropertyNames(c),t=r.length;t>e;e++)n=r[e],i[n]=c[n];o=\"string\"==typeof a[2]?a[2]:\"object\"==typeof a[2]?Object.keys(a[2]).map(function(e){return e+\"=\"+encodeURIComponent(a[2][e])}).join(\"&\"):\"\";var d=function(e){var t;if(l){try{t=JSON.parse(this.responseText)}catch(n){t=this.responseText}l.call(this,t,e)}};return i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300?d.call(this,\"done\"):console.log(\"jtmpl XHR error: \"+this.responseText))},i.open(a[0],a[1],void 0!==c.async?c.async:!0,c.user,c.password),i.send(o),i}},{}]},{},[5])(5)});\n\n\n// WEBPACK FOOTER //\n// ./vendor/jtmpl-1.1.0.min.js"],"sourceRoot":""}